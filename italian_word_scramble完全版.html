<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ITALIAN WORD SCRAMBLE</title>
  <style>
body {
  font-family: "Arial", sans-serif;
  text-align: center;
  background-color: #e0f7fa;
  margin: 0;
  padding: 0;
}

/* ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ */
#title-screen {
  background-color: #cce8ff;
  text-align: center;
  min-height: 100vh;
  padding: 40px 20px 60px 20px;
}

#main-title {
  font-size: 2.5rem;
  margin-top: 30px;
  margin-bottom: 20px;
  color: #004d40;
}

.ita {
  font-style: italic;
  color: #00796b;
}

.category-container {
  margin-top: 20px;
  max-width: 1000px;
  margin-left: auto;
  margin-right: auto;
}

.category-section {
  margin-bottom: 30px;
}

.category-section h3 {
  color: #004d40;
  font-size: 1.3rem;
  margin-bottom: 10px;
}

.category-btn {
  background-color: #ffeb3b;
  border: 2px solid #fbc02d;
  border-radius: 8px;
  padding: 8px 14px;
  margin: 4px;
  cursor: pointer;
  font-size: 0.9rem;
  display: inline-block;
}

.category-btn:hover {
  background-color: #fdd835;
}

/* ã‚²ãƒ¼ãƒ ç”»é¢ */
#game-screen {
  text-align: center;
  padding: 40px 20px;
  background-color: #cce8ff;
  min-height: 100vh;
  position: relative;
}

.game-title {
  font-size: 2.2em;
  margin-top: 10px;
  margin-bottom: 15px;
  text-align: center;
  color: #004d40;
}

/* ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ */
.dropdown {
  margin: 0 auto 25px auto;
  position: relative;
}

#category-list-btn {
  background-color: #ffeb3b;
  border: 2px solid #fbc02d;
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
}

#category-list-btn:hover {
  background-color: #fdd835;
}

#category-dropdown {
  display: none;
  flex-direction: column;
  background: white;
  border: 2px solid #fbc02d;
  border-radius: 8px;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  margin-top: 5px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.12);
  max-height: 400px;
  overflow-y: auto;
  min-width: 300px;
}

#category-dropdown.show {
  display: flex;
}

.dropdown-section {
  border-bottom: 1px solid #eee;
  padding: 8px 0;
}

.dropdown-section:last-child {
  border-bottom: none;
}

.dropdown-section-title {
  font-weight: bold;
  color: #004d40;
  padding: 8px 12px;
  text-align: left;
  font-size: 0.9rem;
  background-color: #f5f5f5;
}

.dropdown-item {
  border: none;
  background: none;
  padding: 8px 12px;
  text-align: left;
  cursor: pointer;
  font-size: 0.85rem;
  width: 100%;
}

.dropdown-item:hover {
  background-color: #fff9c4;
}

#category-name {
  font-size: 1.5em;
  margin-bottom: 20px;
  color: #00796b;
}

/* å•é¡Œãƒªã‚¹ãƒˆ */
#scramble-list {
  list-style-type: none;
  padding: 0;
  margin: 20px auto 80px auto;
  max-width: 700px;
  text-align: left;
}

#scramble-list li {
  margin: 20px 0;
  font-size: 1.6rem;
  display: flex;
  align-items: center;
  gap: 15px;
}

.scrambled {
  font-weight: bold;
  min-width: 200px;
  color: #004d40;
  font-size: 1.8rem;
}

.answer {
  flex: 1;
  padding: 10px;
  border: 2px solid #00796b;
  border-radius: 6px;
  font-size: 1.3rem;
}

/* ãƒ’ãƒ³ãƒˆãƒœã‚¿ãƒ³ */
#hint-button {
  background-color: springgreen;
  border: none;
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  margin-left: 20px;
}

#hint-button:hover {
  background-color: #00e676;
}

/* ãƒ’ãƒ³ãƒˆãƒœãƒƒã‚¯ã‚¹ */
#hint-box {
  width: 220px;
  background: #fffbea;
  border: 2px solid springgreen;
  border-radius: 10px;
  padding: 15px;
  text-align: left;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  margin-left: 20px;
}

#hint-box.hidden {
  display: none;
}

#hint-box h3 {
  font-size: 1em;
  margin: 0 0 10px 0;
  text-align: center;
  color: #004d40;
}

#hint-box ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

#hint-box li {
  font-size: 0.95em;
  margin-bottom: 5px;
  padding: 4px;
  background: white;
  border-radius: 4px;
}

/* ä¸‹éƒ¨ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« */
#controls {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 20px;
}

#controls button {
  background-color: springgreen;
  border: none;
  padding: 12px 20px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

#controls button:hover {
  background-color: #00e676;
}

/* ã‚¹ã‚³ã‚¢è¡¨ç¤º */
#score-area {
  margin: 30px auto 120px auto;
  font-size: 1.5rem;
  font-weight: bold;
  color: #004d40;
  padding: 15px;
  background-color: #e0f7fa;
  border-radius: 10px;
  max-width: 600px;
}

.hidden {
  display: none;
}

/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
@media (max-width: 768px) {
  .game-content-wrapper {
    flex-direction: column;
  }
  
  #hint-button, #hint-box {
    margin: 20px auto;
  }
  
  #hint-box {
    width: 90%;
    max-width: 400px;
  }
  
  #main-title {
    font-size: 1.8rem;
  }
  
  .category-btn {
    font-size: 0.8rem;
    padding: 6px 10px;
  }
}
  </style>
</head>
<body>
  <!-- ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ -->
  <div id="title-screen">
    <h1 id="main-title">ğŸŸ©â¬œğŸŸ¥ITALIAN WORD SCRAMBLEğŸŸ©â¬œğŸŸ¥</h1>
    <p>ã‚«ãƒ†ã‚´ãƒªã‚’é¸ã‚“ã§ã­ï¼<br><span class="ita">Per favore, scegli una categoria!</span></p>
    <div class="category-container" id="category-container">
      <!-- ã‚«ãƒ†ã‚´ãƒªãƒ¼ã¯JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
    </div>
  </div>

  <!-- ã‚²ãƒ¼ãƒ ç”»é¢ -->
  <div id="game-screen" class="hidden">
    <h1 class="game-title">ğŸŸ©â¬œğŸŸ¥ITALIAN WORD SCRAMBLEğŸŸ©â¬œğŸŸ¥</h1>
    
    <div class="dropdown">
      <button id="category-list-btn">ğŸ“‚ ã‚«ãƒ†ã‚´ãƒªãƒ¼ä¸€è¦§ / Categoria</button>
      <div id="category-dropdown">
        <!-- ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚‚JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
      </div>
    </div>

    <h2 id="category-name"></h2>
    
    <div class="game-content-wrapper" style="display: flex; justify-content: center; gap: 30px; align-items: flex-start;">
      <ul id="scramble-list"></ul>

      <div style="display: flex; flex-direction: column; gap: 15px;">
        <button id="hint-button">ğŸ’¡ ãƒ’ãƒ³ãƒˆ / Indizio</button>
        <div id="hint-box" class="hidden">
          <h3>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</h3>
          <ul id="hint-list"></ul>
        </div>
      </div>
    </div>

    <div id="controls">
      <button id="next-button">â¡ æ¡ç‚¹ / Correggi</button>
      <button id="home-button">ğŸ  ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹ / Torna alla home page</button>
    </div>

    <div id="score-area"></div>
  </div>

  <script>
// ã‚«ãƒ†ã‚´ãƒªãƒ¼å®šç¾©ï¼ˆ50ã‚«ãƒ†ã‚´ãƒªãƒ¼ã€å„20å˜èª A1-A2ãƒ¬ãƒ™ãƒ«ï¼‰
const categories = {
  "A. ç”Ÿæ´»ãƒ»è‡ªç„¶ç³»": {
    "animali": {
      name: "å‹•ç‰©",
      emoji: "ğŸ¶",
      words: ["gatto", "cane", "uccello", "mucca", "pecora", "topo", "cavallo", "asino", "pesce", "leone", "tigre", "elefante", "orso", "coniglio", "maiale", "pollo", "anatra", "gallo", "rana", "farfalla"]
    },
    "cibo": {
      name: "é£Ÿã¹ç‰©",
      emoji: "ğŸ",
      words: ["pizza", "pasta", "pane", "formaggio", "riso", "pollo", "carne", "pesce", "insalata", "zucchero", "sale", "pepe", "olio", "burro", "uovo", "latte", "yogurt", "miele", "marmellata", "biscotto"]
    },
    "verdure": {
      name: "é‡èœ",
      emoji: "ğŸ¥•",
      words: ["pomodoro", "patata", "carota", "cipolla", "aglio", "peperone", "melanzana", "zucchina", "spinaci", "lattuga", "cavolo", "broccoli", "cavolfiore", "cetriolo", "sedano", "ravanello", "piselli", "fagioli", "mais", "funghi"]
    },
    "frutta": {
      name: "æœç‰©",
      emoji: "ğŸ",
      words: ["mela", "pera", "banana", "arancia", "limone", "fragola", "ciliegia", "uva", "pesca", "kiwi", "ananas", "melone", "anguria", "albicocca", "prugna", "fico", "cocco", "mango", "papaya", "pompelmo"]
    },
    "bevande": {
      name: "é£²ã¿ç‰©",
      emoji: "â˜•",
      words: ["acqua", "latte", "caffÃ¨", "tÃ¨", "succo", "vino", "birra", "coca", "aranciata", "limonata", "cioccolata", "cappuccino", "espresso", "spremuta", "frullato", "smoothie", "aperitivo", "grappa", "liquore", "amaro"]
    },
    "tempo_natura": {
      name: "å¤©æ°—ãƒ»è‡ªç„¶",
      emoji: "â˜€ï¸",
      words: ["sole", "pioggia", "neve", "vento", "nuvola", "cielo", "tempesta", "tuono", "fulmine", "nebbia", "ghiaccio", "caldo", "freddo", "umido", "secco", "sereno", "nuvoloso", "piovoso", "ventoso", "nebbioso"]
    },
    "piante_fiori": {
      name: "æ¤ç‰©ãƒ»èŠ±",
      emoji: "ğŸŒ¸",
      words: ["fiore", "rosa", "tulipano", "margherita", "girasole", "orchidea", "giglio", "garofano", "viola", "albero", "pianta", "foglia", "ramo", "radice", "seme", "erba", "muschio", "cespuglio", "prato", "giardino"]
    },
    "stagioni_tempo": {
      name: "å­£ç¯€ãƒ»æ™‚é–“",
      emoji: "ğŸ‚",
      words: ["primavera", "estate", "autunno", "inverno", "mattina", "pomeriggio", "sera", "notte", "giorno", "settimana", "mese", "anno", "oggi", "domani", "ieri", "ora", "minuto", "secondo", "momento", "periodo"]
    },
    "casa_mobili": {
      name: "å®¶ãƒ»å®¶å…·",
      emoji: "ğŸ ",
      words: ["casa", "appartamento", "stanza", "cucina", "bagno", "camera", "salotto", "tavolo", "sedia", "letto", "armadio", "divano", "scrivania", "lampada", "porta", "finestra", "muro", "pavimento", "soffitto", "scala"]
    },
    "famiglia": {
      name: "å®¶åº­ãƒ»å®¶æ—",
      emoji: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦",
      words: ["famiglia", "padre", "madre", "figlio", "figlia", "fratello", "sorella", "nonno", "nonna", "zio", "zia", "cugino", "cugina", "marito", "moglie", "bambino", "bambina", "nipote", "genitori", "parenti"]
    }
  },
  "B. äººãƒ»è¡Œå‹•ãƒ»æ€§æ ¼": {
    "rapporti": {
      name: "äººé–“é–¢ä¿‚",
      emoji: "ğŸ‘¥",
      words: ["amico", "amica", "persona", "uomo", "donna", "ragazzo", "ragazza", "vicino", "vicina", "collega", "compagno", "compagna", "partner", "coppia", "fidanzato", "fidanzata", "conoscente", "estraneo", "nemico", "alleato"]
    },
    "emozioni": {
      name: "æ„Ÿæƒ…ãƒ»æ€§æ ¼",
      emoji: "ğŸ˜Š",
      words: ["felice", "triste", "arrabbiato", "calmo", "nervoso", "stanco", "energico", "allegro", "serio", "timido", "simpatico", "gentile", "cattivo", "buono", "intelligente", "stupido", "coraggioso", "pauroso", "generoso", "egoista"]
    },
    "salute_corpo": {
      name: "å¥åº·ãƒ»ä½“ã®éƒ¨ä½",
      emoji: "ğŸ’ª",
      words: ["testa", "occhio", "naso", "bocca", "orecchio", "dente", "collo", "spalla", "braccio", "mano", "dito", "petto", "pancia", "schiena", "gamba", "piede", "cuore", "polmone", "stomaco", "pelle"]
    },
    "professioni": {
      name: "è·æ¥­",
      emoji: "ğŸ‘¨â€ğŸ’¼",
      words: ["dottore", "infermiere", "maestro", "professore", "studente", "avvocato", "ingegnere", "cuoco", "cameriere", "poliziotto", "pompiere", "postino", "commesso", "commessa", "impiegato", "meccanico", "elettricista", "idraulico", "artista", "musicista"]
    },
    "vestiti": {
      name: "æœãƒ»ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼",
      emoji: "ğŸ‘”",
      words: ["vestito", "gonna", "pantaloni", "camicia", "maglietta", "maglione", "giacca", "cappotto", "scarpe", "stivali", "sandali", "calze", "cappello", "sciarpa", "guanti", "cintura", "cravatta", "borsa", "zaino", "occhiali"]
    },
    "azioni": {
      name: "æ—¥å¸¸å‹•ä½œãƒ»å®¶äº‹",
      emoji: "ğŸ§¹",
      words: ["fare", "andare", "venire", "mangiare", "bere", "dormire", "svegliare", "lavare", "pulire", "cucinare", "stirare", "spazzare", "comprare", "vendere", "aprire", "chiudere", "accendere", "spegnere", "telefonare", "guardare"]
    },
    "bellezza": {
      name: "ç¾å®¹ãƒ»èº«ã ã—ãªã¿",
      emoji: "ğŸ’„",
      words: ["doccia", "bagno", "sapone", "shampoo", "pettine", "spazzola", "asciugamano", "specchio", "trucco", "profumo", "crema", "dentifricio", "spazzolino", "rasoio", "forbici", "phon", "smalto", "rossetto", "mascara", "fondotinta"]
    },
    "scuola": {
      name: "æ•™è‚²ãƒ»å­¦æ ¡",
      emoji: "ğŸ“š",
      words: ["scuola", "classe", "lezione", "esame", "compito", "libro", "quaderno", "penna", "matita", "gomma", "zaino", "banco", "lavagna", "gesso", "aula", "biblioteca", "mensa", "palestra", "cortile", "diploma"]
    },
    "hobby": {
      name: "è¶£å‘³ãƒ»ä½™æš‡",
      emoji: "ğŸ®",
      words: ["hobby", "musica", "film", "cinema", "teatro", "lettura", "pittura", "disegno", "fotografia", "danza", "canto", "giardinaggio", "cucina", "videogiochi", "puzzle", "carte", "scacchi", "pesca", "campeggio", "escursione"]
    },
    "sport": {
      name: "ã‚¹ãƒãƒ¼ãƒ„",
      emoji: "âš½",
      words: ["calcio", "tennis", "basket", "nuoto", "corsa", "sci", "pallavolo", "golf", "ciclismo", "boxe", "atletica", "ginnastica", "yoga", "karate", "judo", "rugby", "baseball", "hockey", "pattinaggio", "arrampicata"]
    }
  },
  "C. å ´æ‰€ãƒ»ç¤¾ä¼šãƒ»äº¤é€š": {
    "edifici": {
      name: "å»ºç‰©ãƒ»æ–½è¨­",
      emoji: "ğŸ¢",
      words: ["edificio", "palazzo", "grattacielo", "casa", "villa", "castello", "chiesa", "cattedrale", "moschea", "tempio", "monastero", "museo", "biblioteca", "teatro", "cinema", "stadio", "centro", "mercato", "fabbrica", "officina"]
    },
    "luoghi": {
      name: "å ´æ‰€ãƒ»æ–¹å‘",
      emoji: "ğŸ§­",
      words: ["nord", "sud", "est", "ovest", "destra", "sinistra", "centro", "sopra", "sotto", "dentro", "fuori", "davanti", "dietro", "vicino", "lontano", "qui", "lÃ ", "qua", "laggiÃ¹", "lassÃ¹"]
    },
    "trasporti": {
      name: "äº¤é€šãƒ»ä¹—ã‚Šç‰©",
      emoji: "ğŸš—",
      words: ["auto", "macchina", "autobus", "treno", "metro", "tram", "taxi", "bicicletta", "moto", "aereo", "nave", "barca", "traghetto", "elicottero", "camion", "furgone", "ambulanza", "tir", "scooter", "monopattino"]
    },
    "viaggi": {
      name: "æ—…è¡Œãƒ»è¦³å…‰",
      emoji: "âœˆï¸",
      words: ["viaggio", "vacanza", "turismo", "turista", "guida", "mappa", "biglietto", "prenotazione", "albergo", "hotel", "ostello", "camera", "bagaglio", "valigia", "zaino", "passaporto", "visto", "dogana", "aeroporto", "stazione"]
    },
    "geografia": {
      name: "éƒ½å¸‚ãƒ»å›½åãƒ»åœ°ç†",
      emoji: "ğŸŒ",
      words: ["italia", "francia", "spagna", "germania", "giappone", "cina", "america", "canada", "brasile", "australia", "roma", "milano", "parigi", "londra", "berlino", "madrid", "tokyo", "pechino", "cittÃ ", "paese"]
    },
    "natura_fenomeni": {
      name: "è‡ªç„¶ç¾è±¡ãƒ»ç½å®³",
      emoji: "ğŸŒ‹",
      words: ["terremoto", "vulcano", "eruzione", "alluvione", "frana", "valanga", "incendio", "tornado", "uragano", "ciclone", "tsunami", "siccitÃ ", "inondazione", "temporale", "grandinata", "nevicata", "marea", "onda", "corrente", "vento"]
    },
    "lavoro": {
      name: "è·å ´ãƒ»ä¼šç¤¾",
      emoji: "ğŸ’¼",
      words: ["lavoro", "ufficio", "azienda", "ditta", "impresa", "fabbrica", "negozio", "bottega", "studio", "scrivania", "computer", "stampante", "telefono", "riunione", "colloquio", "contratto", "stipendio", "salario", "pagamento", "scadenza"]
    },
    "politica": {
      name: "æ”¿æ²»ãƒ»ç¤¾ä¼š",
      emoji: "ğŸ›ï¸",
      words: ["governo", "ministro", "presidente", "sindaco", "parlamento", "senato", "deputato", "elezione", "voto", "legge", "costituzione", "democrazia", "repubblica", "stato", "nazione", "partito", "politica", "cittadino", "diritto", "dovere"]
    },
    "ambiente": {
      name: "ç’°å¢ƒãƒ»åœ°çƒ",
      emoji: "ğŸŒ±",
      words: ["ambiente", "natura", "terra", "pianeta", "mondo", "ecosistema", "foresta", "bosco", "selva", "giungla", "deserto", "montagna", "collina", "valle", "pianura", "fiume", "lago", "mare", "oceano", "isola"]
    },
    "cultura": {
      name: "æ–‡åŒ–ãƒ»å®—æ•™",
      emoji: "â›ª",
      words: ["cultura", "tradizione", "costume", "usanza", "religione", "fede", "dio", "chiesa", "prete", "papa", "santo", "preghiera", "messa", "battesimo", "matrimonio", "funerale", "festa", "celebrazione", "rito", "cerimonia"]
    }
  },
  "D. è¨€è‘‰ãƒ»æ–‡æ³•ãƒ»æŠ½è±¡èª": {
    "verbi": {
      name: "å‹•è©",
      emoji: "ğŸƒ",
      words: ["essere", "avere", "fare", "andare", "venire", "dire", "dare", "sapere", "volere", "potere", "dovere", "vedere", "sentire", "parlare", "mangiare", "bere", "dormire", "lavorare", "studiare", "giocare"]
    },
    "sostantivi": {
      name: "åè©",
      emoji: "ğŸ“¦",
      words: ["cosa", "oggetto", "nome", "parola", "frase", "testo", "storia", "racconto", "idea", "pensiero", "problema", "soluzione", "domanda", "risposta", "esempio", "caso", "fatto", "evento", "situazione", "occasione"]
    },
    "aggettivi": {
      name: "å½¢å®¹è©",
      emoji: "ğŸ¨",
      words: ["grande", "piccolo", "alto", "basso", "lungo", "corto", "largo", "stretto", "nuovo", "vecchio", "giovane", "bello", "brutto", "buono", "cattivo", "facile", "difficile", "forte", "debole", "ricco"]
    },
    "avverbi": {
      name: "å‰¯è©",
      emoji: "âš¡",
      words: ["molto", "poco", "tanto", "troppo", "abbastanza", "quasi", "sempre", "mai", "spesso", "raramente", "ancora", "giÃ ", "subito", "presto", "tardi", "bene", "male", "meglio", "peggio", "insieme"]
    },
    "preposizioni": {
      name: "å‰ç½®è©",
      emoji: "ğŸ”—",
      words: ["di", "a", "da", "in", "con", "su", "per", "tra", "fra", "sopra", "sotto", "dentro", "fuori", "davanti", "dietro", "vicino", "lontano", "verso", "fino", "oltre"]
    },
    "congiunzioni": {
      name: "æ¥ç¶šè©",
      emoji: "â•",
      words: ["e", "o", "ma", "perÃ²", "quindi", "perchÃ©", "se", "quando", "mentre", "come", "anche", "nÃ©", "oppure", "invece", "infatti", "allora", "dunque", "cioÃ¨", "ovvero", "anzi"]
    },
    "pronomi": {
      name: "ä»£åè©",
      emoji: "ğŸ‘¤",
      words: ["io", "tu", "lui", "lei", "noi", "voi", "loro", "questo", "quello", "qualcosa", "qualcuno", "niente", "nessuno", "tutto", "tutti", "altro", "stesso", "tale", "chi", "che"]
    },
    "articoli": {
      name: "å† è©",
      emoji: "ğŸ“",
      words: ["il", "lo", "la", "i", "gli", "le", "un", "uno", "una", "del", "dello", "della", "dei", "degli", "delle", "al", "allo", "alla", "ai", "agli"]
    },
    "interrogativi": {
      name: "ç–‘å•è©",
      emoji: "â“",
      words: ["chi", "che", "cosa", "quale", "quanto", "quanta", "quanti", "quante", "quando", "dove", "come", "perchÃ©", "quanto", "dove", "quale", "cosa", "come", "quando", "perchÃ©", "dove"]
    },
    "interiezioni": {
      name: "æ„Ÿå˜†è©ãƒ»ã‚ã„ã¥ã¡",
      emoji: "ğŸ’¬",
      words: ["ah", "oh", "eh", "ahi", "ehi", "boh", "mah", "beh", "uffa", "accidenti", "evviva", "bravo", "dai", "su", "via", "ecco", "allora", "insomma", "caspita", "cavolo"]
    }
  },
  "E. ç”Ÿæ´»ã‚¹ã‚­ãƒ«ãƒ»å®Ÿç”¨": {
    "shopping": {
      name: "è²·ã„ç‰©ãƒ»ãŠé‡‘",
      emoji: "ğŸ’¶",
      words: ["soldi", "denaro", "euro", "centesimo", "moneta", "banconota", "prezzo", "costo", "sconto", "offerta", "saldo", "pagamento", "cassa", "resto", "carta", "bancomat", "credito", "debito", "spesa", "acquisto"]
    },
    "ristorante": {
      name: "ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ãƒ»æ–™ç†",
      emoji: "ğŸ½ï¸",
      words: ["ristorante", "trattoria", "osteria", "pizzeria", "bar", "caffÃ¨", "tavolo", "sedia", "menu", "piatto", "antipasto", "primo", "secondo", "contorno", "dolce", "dessert", "conto", "cameriere", "cameriera", "mancia"]
    },
    "ospedale": {
      name: "å¥åº·ãƒ»ç—…é™¢",
      emoji: "ğŸ¥",
      words: ["ospedale", "clinica", "ambulatorio", "dottore", "medico", "infermiere", "paziente", "malato", "malattia", "febbre", "tosse", "raffreddore", "influenza", "dolore", "medicina", "pillola", "sciroppo", "iniezione", "ricetta", "cura"]
    },
    "clima": {
      name: "å¤©å€™ãƒ»æ°—å€™",
      emoji: "ğŸŒ¡ï¸",
      words: ["clima", "tempo", "temperatura", "caldo", "freddo", "fresco", "mite", "umido", "secco", "soleggiato", "nuvoloso", "piovoso", "nevoso", "ventoso", "tempestoso", "sereno", "variabile", "stabile", "pressione", "meteo"]
    },
    "tecnologia": {
      name: "ä»•äº‹é“å…·ãƒ»ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼",
      emoji: "ğŸ’»",
      words: ["computer", "laptop", "tablet", "telefono", "cellulare", "smartphone", "tastiera", "mouse", "schermo", "monitor", "stampante", "scanner", "internet", "wifi", "email", "sito", "app", "programma", "software", "hardware"]
    },
    "abitazione": {
      name: "ä½ã¾ã„ãƒ»ä¸å‹•ç”£",
      emoji: "ğŸ˜ï¸",
      words: ["casa", "appartamento", "villa", "attico", "monolocale", "bilocale", "stanza", "camera", "bagno", "cucina", "salotto", "terrazzo", "balcone", "giardino", "garage", "cantina", "soffitta", "piano", "ascensore", "portone"]
    },
    "media": {
      name: "ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ»é€šä¿¡",
      emoji: "ğŸ“±",
      words: ["televisione", "radio", "giornale", "rivista", "notizia", "informazione", "comunicazione", "messaggio", "lettera", "posta", "email", "sms", "chat", "telefono", "chiamata", "video", "foto", "immagine", "social", "rete"]
    },
    "eventi": {
      name: "ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ç¥­ã‚Š",
      emoji: "ğŸ‰",
      words: ["festa", "compleanno", "matrimonio", "anniversario", "cerimonia", "celebrazione", "concerto", "spettacolo", "mostra", "esposizione", "fiera", "mercato", "sagra", "carnevale", "natale", "pasqua", "capodanno", "ferragosto", "evento", "incontro"]
    },
    "arte": {
      name: "èŠ¸è¡“ãƒ»éŸ³æ¥½",
      emoji: "ğŸ¨",
      words: ["arte", "pittura", "scultura", "disegno", "quadro", "statua", "museo", "galleria", "musica", "canzone", "melodia", "ritmo", "strumento", "pianoforte", "chitarra", "violino", "batteria", "orchestra", "coro", "concerto"]
    },
    "storia": {
      name: "æ­´å²ãƒ»æ™‚ä»£",
      emoji: "ğŸ“œ",
      words: ["storia", "epoca", "periodo", "secolo", "anno", "passato", "presente", "futuro", "antico", "moderno", "medievale", "romano", "greco", "rinascimento", "guerra", "pace", "rivoluzione", "impero", "regno", "repubblica"]
    }
  }
};

let currentCategory = "";
let currentWords = [];
let scrambledWords = [];

// è¦ç´ å–å¾—
const titleScreen = document.getElementById("title-screen");
const gameScreen = document.getElementById("game-screen");
const categoryName = document.getElementById("category-name");
const scrambleList = document.getElementById("scramble-list");
const scoreArea = document.getElementById("score-area");
const hintButton = document.getElementById("hint-button");
const hintBox = document.getElementById("hint-box");
const hintList = document.getElementById("hint-list");
const categoryDropdown = document.getElementById("category-dropdown");

// ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒœã‚¿ãƒ³ã‚’å‹•çš„ã«ç”Ÿæˆ
function generateCategoryButtons() {
  const container = document.getElementById("category-container");
  
  for (const [sectionName, sectionCategories] of Object.entries(categories)) {
    const section = document.createElement("div");
    section.className = "category-section";
    
    const heading = document.createElement("h3");
    heading.textContent = sectionName;
    section.appendChild(heading);
    
    for (const [categoryId, categoryData] of Object.entries(sectionCategories)) {
      const button = document.createElement("button");
      button.className = "category-btn";
      button.dataset.category = categoryId;
      button.textContent = `${categoryData.emoji} ${categoryData.name}`;
      section.appendChild(button);
    }
    
    container.appendChild(section);
  }
}

// ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’å‹•çš„ã«ç”Ÿæˆ
function generateCategoryDropdown() {
  const dropdown = document.getElementById("category-dropdown");
  
  for (const [sectionName, sectionCategories] of Object.entries(categories)) {
    const section = document.createElement("div");
    section.className = "dropdown-section";
    
    const title = document.createElement("div");
    title.className = "dropdown-section-title";
    title.textContent = sectionName;
    section.appendChild(title);
    
    for (const [categoryId, categoryData] of Object.entries(sectionCategories)) {
      const button = document.createElement("button");
      button.className = "dropdown-item";
      button.dataset.category = categoryId;
      button.textContent = `${categoryData.emoji} ${categoryData.name}`;
      section.appendChild(button);
    }
    
    dropdown.appendChild(section);
  }
}

// åˆæœŸåŒ–
generateCategoryButtons();
generateCategoryDropdown();

// ã‚«ãƒ†ã‚´ãƒªãƒ¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹é–¢æ•°
function getCategoryInfo(categoryId) {
  for (const section of Object.values(categories)) {
    if (section[categoryId]) {
      return section[categoryId];
    }
  }
  return null;
}

// ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒœã‚¿ãƒ³å‹•ä½œï¼ˆã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ã¨ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ä¸¡æ–¹ï¼‰
document.addEventListener("click", (e) => {
  if (e.target.classList.contains("category-btn") || e.target.classList.contains("dropdown-item")) {
    const category = e.target.dataset.category;
    startGame(category);
    categoryDropdown.classList.remove("show");
  }
});

// ãƒ›ãƒ¼ãƒ ãƒœã‚¿ãƒ³
document.getElementById("home-button").addEventListener("click", () => {
  gameScreen.classList.add("hidden");
  titleScreen.classList.remove("hidden");
  hintBox.classList.add("hidden");
  categoryDropdown.classList.remove("show");
});

// ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ãƒœã‚¿ãƒ³ï¼ˆãƒˆã‚°ãƒ«æ©Ÿèƒ½ï¼‰
document.getElementById("category-list-btn").addEventListener("click", () => {
  categoryDropdown.classList.toggle("show");
});

// ã‚²ãƒ¼ãƒ é–‹å§‹
function startGame(categoryId) {
  const categoryInfo = getCategoryInfo(categoryId);
  if (!categoryInfo) return;
  
  currentCategory = categoryId;
  
  // 20å˜èªã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«10å€‹é¸æŠ
  const allWords = [...categoryInfo.words];
  currentWords = [];
  for (let i = 0; i < 10; i++) {
    const randomIndex = Math.floor(Math.random() * allWords.length);
    currentWords.push(allWords[randomIndex]);
    allWords.splice(randomIndex, 1);
  }
  
  scrambledWords = currentWords.map(word => scramble(word));
  
  categoryName.textContent = `${categoryInfo.emoji} ${categoryInfo.name}`;
  scrambleList.innerHTML = "";
  scoreArea.innerHTML = "";
  hintBox.classList.add("hidden");
  
  scrambledWords.forEach(scrambled => {
    const li = document.createElement("li");
    li.innerHTML = `
      <span class="scrambled">${scrambled}</span>
      <input type="text" class="answer">
    `;
    scrambleList.appendChild(li);
  });
  
  titleScreen.classList.add("hidden");
  gameScreen.classList.remove("hidden");
}

// ã‚·ãƒ£ãƒƒãƒ•ãƒ«é–¢æ•°
function scramble(word) {
  let shuffled = word;
  // å…ƒã®å˜èªã¨åŒã˜ã«ãªã‚‰ãªã„ã‚ˆã†ã«è¤‡æ•°å›è©¦è¡Œ
  for (let i = 0; i < 10; i++) {
    shuffled = word.split("").sort(() => Math.random() - 0.5).join("");
    if (shuffled !== word) break;
  }
  return shuffled;
}

// æ¡ç‚¹ãƒœã‚¿ãƒ³
document.getElementById("next-button").addEventListener("click", () => {
  const answers = document.querySelectorAll(".answer");
  let score = 0;
  
  answers.forEach((input, index) => {
    const correct = currentWords[index];
    if (input.value.trim().toLowerCase() === correct.toLowerCase()) {
      input.style.backgroundColor = "#b2ffb2";
      score++;
    } else {
      input.style.backgroundColor = "#ffb2b2";
    }
  });
  
  // ãƒã‚¸ãƒ†ã‚£ãƒ–ãªã‚¤ã‚¿ãƒªã‚¢èªã®ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆ10ç¨®é¡ï¼‰
  const comments = [
    "Fantastico! ç´ æ™´ã‚‰ã—ã„ï¼ğŸŒŸ",
    "Ottimo lavoro! ã‚ˆãé ‘å¼µã£ãŸã­ï¼ğŸ‘",
    "Continua cosÃ¬! ãã®èª¿å­ï¼ğŸ’ª",
    "Molto bene! ã¨ã¦ã‚‚ã„ã„ã‚ˆï¼ğŸ˜Š",
    "Bravo! ã‚ˆãã§ãã¾ã—ãŸï¼ğŸ¯",
    "Perfetto! å®Œç’§ï¼ğŸ‰",
    "Eccellente! ç´ æ™´ã‚‰ã—ã„ï¼âœ¨",
    "Ben fatto! ã‚ˆãã‚„ã£ãŸï¼ğŸŒˆ",
    "Stai migliorando! ä¸Šé”ã—ã¦ã‚‹ã‚ˆï¼ğŸš€",
    "Sei bravissimo! ã™ã”ã„ã­ï¼â­"
  ];
  
  const randomComment = comments[Math.floor(Math.random() * comments.length)];
  
  scoreArea.textContent = `âœ… ${score} / ${currentWords.length} æ­£è§£ï¼ ${randomComment}`;
  
  scoreArea.scrollIntoView({ behavior: 'smooth', block: 'center' });
});

// ğŸ’¡ãƒ’ãƒ³ãƒˆãƒœã‚¿ãƒ³ï¼ˆãƒˆã‚°ãƒ«æ©Ÿèƒ½ï¼‰
hintButton.addEventListener("click", () => {
  if (hintBox.classList.contains("hidden")) {
    const shuffledHints = [...currentWords].sort(() => Math.random() - 0.5);
    hintList.innerHTML = shuffledHints.map(w => `<li>${w}</li>`).join("");
    hintBox.classList.remove("hidden");
  } else {
    hintBox.classList.add("hidden");
  }
});

// è¦‹ãŸç›®ã‚’æ•´ãˆã‚‹é–¢æ•°
function capitalize(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}
  </script>
</body>
</html>